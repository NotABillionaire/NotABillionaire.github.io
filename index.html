
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dictionary Search</title>
    <!-- Include PyScript for Python -->
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css">
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
</head>
<body>
    <h1>Dictionary Search</h1>
    <input type="text" id="word" placeholder="Enter a word">
    <button id="search-btn">Search</button>
    <pre id="output"></pre>

    <!-- PyScript Code -->
    <py-script>
import requests

# API URL
URL = "https://api.dictionaryapi.dev/api/v2/entries/en/"

# Function to handle the word search and API request
def search():
    word = Element("word").value  # Get the word entered by the user
    output = Element("output")  # Reference the output element

    if not word:
        output.write("Please enter a word to search.\n")
        return

    try:
        # Make an API call to fetch the word details
        response = requests.get(URL + word)
        
        # Log the response status code for debugging
        print(f"API Response Status Code: {response.status_code}")

        # Check if the response is successful (status code 200)
        if response.status_code != 200:
            output.write(f"Error: Unable to fetch data for '{word}' (Status code: {response.status_code}). Please try again.\n")
            return

        # Parse the response JSON
        content = response.json()

        # Extract word and other details
        word_data = content[0]  # Assuming API returns a list, we take the first item

        # Prepare the result to display
        result = f"Word: {word_data['word']}\n"

        # Phonetics and Audio (if available)
        if "phonetics" in word_data:
            phonetics = word_data["phonetics"]
            if phonetics:
                audio = phonetics[0].get("audio", "No audio available.")
                result += f"Audio: {audio}\n\n"
            else:
                result += "No phonetic audio available.\n"

        # Meanings and Definitions
        meanings = word_data.get("meanings", [])
        if meanings:
            for meaning in meanings:
                part_of_speech = meaning.get("partOfSpeech", "Unknown")
                definitions = meaning.get("definitions", [])
                synonyms = ", ".join(meaning.get("synonyms", []))
                antonyms = ", ".join(meaning.get("antonyms", []))
                
                result += f"{part_of_speech}: \n"
                for definition in definitions:
                    result += f"  - Definition: {definition['definition']}\n"
                if synonyms:
                    result += f"  - Synonyms: {synonyms}\n"
                if antonyms:
                    result += f"  - Antonyms: {antonyms}\n\n"
        else:
            result += f"No meanings found for '{word}'.\n"

        # Write the result to the output section
        output.write(result)

    except Exception as e:
        # Handle errors gracefully
        output.write(f"An error occurred: {e}\n")
        print(f"Error: {e}")

# Set up event listener for the search button
Element("search-btn").element.addEventListener("click", search)
    </py-script>
</body>
</html>
      for definition in definitions:
                    result += f"  - Definition: {definition['definition']}\n"
                if synonyms:
                    result += f"  - Synonyms: {synonyms}\n"
                if antonyms:
                    result += f"  - Antonyms: {antonyms}\n\n"
        else:
            result += f"No meanings found for '{word}'.\n"

        output.write(result)  # Display the results in the output element

    except Exception as e:
        output.write(f"An error occurred: {e}\n")
        print(f"Error: {e}")

    </py-script>
</body>
</html>
